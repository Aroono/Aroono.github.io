<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>一苇以航</title>
  
  <subtitle>天行健，君子已自强不息；地势坤，君子已厚德载物</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://Aroono.github.io/"/>
  <updated>2018-02-23T13:56:54.491Z</updated>
  <id>https://Aroono.github.io/</id>
  
  <author>
    <name>Aroono</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>seajs常用API快速参考</title>
    <link href="https://Aroono.github.io/2016/03/seajs%E5%B8%B8%E7%94%A8API%E5%BF%AB%E9%80%9F%E5%8F%82%E8%80%83/"/>
    <id>https://Aroono.github.io/2016/03/seajs常用API快速参考/</id>
    <published>2016-03-31T02:02:58.000Z</published>
    <updated>2018-02-23T13:56:54.491Z</updated>
    
    <content type="html"><![CDATA[<h3 id="seajs-config"><a href="#seajs-config" class="headerlink" title="seajs.config"></a>seajs.config</h3><p>用来对 Sea.js 进行配置。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">seajs.config(&#123;</span><br><span class="line"></span><br><span class="line">  // 设置路径，方便跨目录调用</span><br><span class="line">  paths: &#123;</span><br><span class="line">    <span class="string">'arale'</span>: <span class="string">'https://a.alipayobjects.com/arale'</span>,</span><br><span class="line">    <span class="string">'jquery'</span>: <span class="string">'https://a.alipayobjects.com/jquery'</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // 设置别名，方便调用</span><br><span class="line">  <span class="built_in">alias</span>: &#123;</span><br><span class="line">    <span class="string">'class'</span>: <span class="string">'arale/class/1.0.0/class'</span>,</span><br><span class="line">    <span class="string">'jquery'</span>: <span class="string">'jquery/jquery/1.10.1/jquery'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><a id="more"></a><p>更多配置项请参考：<a href="https://github.com/seajs/seajs/issues/262" target="_blank" rel="noopener">#262</a></p><h3 id="seajs-use"><a href="#seajs-use" class="headerlink" title="seajs.use"></a>seajs.use</h3><p>用来在页面中加载一个或多个模块。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 加载一个模块</span><br><span class="line">seajs.use(<span class="string">'./a'</span>);</span><br><span class="line"></span><br><span class="line">// 加载一个模块，在加载完成时，执行回调</span><br><span class="line">seajs.use(<span class="string">'./a'</span>, <span class="keyword">function</span>(a) &#123;</span><br><span class="line">  a.doSomething();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 加载多个模块，在加载完成时，执行回调</span><br><span class="line">seajs.use([<span class="string">'./a'</span>, <span class="string">'./b'</span>], <span class="keyword">function</span>(a, b) &#123;</span><br><span class="line">  a.doSomething();</span><br><span class="line">  b.doSomething();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>更多用法请参考：<a href="https://github.com/seajs/seajs/issues/260" target="_blank" rel="noopener">#260</a></p><h3 id="define"><a href="#define" class="headerlink" title="define"></a>define</h3><p>用来定义模块。Sea.js 推崇一个模块一个文件，遵循统一的写法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="keyword">function</span>(require, exports, module) &#123;</span><br><span class="line"></span><br><span class="line">  // 模块代码</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>也可以手动指定模块 id 和依赖，详情请参考：<a href="https://github.com/seajs/seajs/issues/242" target="_blank" rel="noopener">#242</a><br>require, exports 和 module 三个参数可酌情省略，具体用法如下。</p><h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p>require 用来获取指定模块的接口。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="keyword">function</span>(require) &#123;</span><br><span class="line"></span><br><span class="line">  // 获取模块 a 的接口</span><br><span class="line">  var a = require(<span class="string">'./a'</span>);</span><br><span class="line"></span><br><span class="line">  // 调用模块 a 的方法</span><br><span class="line">  a.doSomething();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>注意，require 只接受字符串直接量作为参数，详细约定请阅读：<a href="https://github.com/seajs/seajs/issues/259" target="_blank" rel="noopener">#259</a></p><h3 id="require-async"><a href="#require-async" class="headerlink" title="require.async"></a>require.async</h3><p>用来在模块内部异步加载一个或多个模块。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="keyword">function</span>(require) &#123;</span><br><span class="line"></span><br><span class="line">  // 异步加载一个模块，在加载完成时，执行回调</span><br><span class="line">  require.async(<span class="string">'./b'</span>, <span class="keyword">function</span>(b) &#123;</span><br><span class="line">    b.doSomething();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // 异步加载多个模块，在加载完成时，执行回调</span><br><span class="line">  require.async([<span class="string">'./c'</span>, <span class="string">'./d'</span>], <span class="keyword">function</span>(c, d) &#123;</span><br><span class="line">    c.doSomething();</span><br><span class="line">    d.doSomething();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>详细说明请参考：<a href="https://github.com/seajs/seajs/issues/242" target="_blank" rel="noopener">#242</a></p><h3 id="exports"><a href="#exports" class="headerlink" title="exports"></a>exports</h3><p>用来在模块内部对外提供接口。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="keyword">function</span>(require, exports) &#123;</span><br><span class="line"></span><br><span class="line">  // 对外提供 foo 属性</span><br><span class="line">  exports.foo = <span class="string">'bar'</span>;</span><br><span class="line"></span><br><span class="line">  // 对外提供 doSomething 方法</span><br><span class="line">  exports.doSomething = <span class="function"><span class="title">function</span></span>() &#123;&#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>详细说明请参考：<a href="https://github.com/seajs/seajs/issues/242" target="_blank" rel="noopener">#242</a></p><h3 id="module-exports"><a href="#module-exports" class="headerlink" title="module.exports"></a>module.exports</h3><p>与 exports 类似，用来在模块内部对外提供接口。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="keyword">function</span>(require, exports, module) &#123;</span><br><span class="line"></span><br><span class="line">  // 对外提供接口</span><br><span class="line">  module.exports = &#123;</span><br><span class="line">    name: <span class="string">'a'</span>,</span><br><span class="line">    doSomething: <span class="function"><span class="title">function</span></span>() &#123;&#125;;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>module.exports 与 exports 的区别，以及详细说明请参考：<a href="https://github.com/seajs/seajs/issues/242" target="_blank" rel="noopener">#242</a></p><h3 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h3><p>如何在页面中加载模块：</p><p>在 hello.html 页尾，通过 script 引入 sea.js 后，有一段配置代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"../resources/js/lib/sea.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// seajs 的简单配置</span><br><span class="line">seajs.config(&#123;</span><br><span class="line">  base: <span class="string">"../resources/js/"</span>,</span><br><span class="line">  <span class="built_in">alias</span>: &#123; <span class="string">"jquery"</span>: <span class="string">"jquery/jquery/1.10.1/jquery.js"</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 加载入口模块</span><br><span class="line">seajs.use(<span class="string">"../static/hello/src/main"</span>)</span><br></pre></td></tr></table></figure><p>sea.js 在下载完成后，会自动加载入口模块。页面中的代码就这么简单。</p><p>以上 7 个接口是最常用的，要牢记于心。</p><p>这里提供一个不错的社区贡献的 API 文档：<a href="http://yslove.net/seajs/" target="_blank" rel="noopener">#http://yslove.net/seajs/</a></p><hr><h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p>sea.js的调试借口：<a href="https://github.com/seajs/seajs/issues/263" target="_blank" rel="noopener">#https://github.com/seajs/seajs/issues/263</a></p><p>CMD模块定义规范：<a href="https://github.com/seajs/seajs/issues/242" target="_blank" rel="noopener">#https://github.com/seajs/seajs/issues/242</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;seajs-config&quot;&gt;&lt;a href=&quot;#seajs-config&quot; class=&quot;headerlink&quot; title=&quot;seajs.config&quot;&gt;&lt;/a&gt;seajs.config&lt;/h3&gt;&lt;p&gt;用来对 Sea.js 进行配置。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;seajs.config(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 设置路径，方便跨目录调用&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  paths: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;arale&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;https://a.alipayobjects.com/arale&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;jquery&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;https://a.alipayobjects.com/jquery&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  // 设置别名，方便调用&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;alias&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;class&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;arale/class/1.0.0/class&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;jquery&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;jquery/jquery/1.10.1/jquery&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Javascript" scheme="https://Aroono.github.io/categories/Javascript/"/>
    
    
      <category term="seajs" scheme="https://Aroono.github.io/tags/seajs/"/>
    
  </entry>
  
</feed>
